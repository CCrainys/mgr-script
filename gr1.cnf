[mysqld]
user=root
port = 3750

datadir = /flash1/test/mysql/deploy/m1
tmpdir = /flash1/test/mysql/deploy/m1
log-bin = /flash1/test/mysql/deploy/m1/mysql-bin.log
log-bin-index = /flash1/test/mysql/deploy/m1/master-log-bin.index
log-error = /flash1/test/mysql/deploy/m1/master-error.log
log_error_verbosity = 3
relay-log = /flash1/test/mysql/deploy/m1/slave-relay.log
relay-log-info-file = /flash1/test/mysql/deploy/m1/slave-relay-log.info
relay-log-index = /flash1/test/mysql/deploy/m1/slave-relay-log.index
master-info-file = /flash1/test/mysql/deploy/m1/master.info
slow_query_log_file = /flash1/test/mysql/deploy/m1/slow_query.log
innodb_data_home_dir = /flash1/test/mysql/deploy/m1
innodb_log_group_home_dir = /flash1/test/mysql/deploy/m1
socket = /flash1/test/mysql/deploy/m1/mysql.sock

disabled_storage_engines="MyISAM,BLACKHOLE,FEDERATED,ARCHIVE,MEMORY"
server_id=1
slave_preserve_commit_order=ON
slave_parallel_workers=16
slave_parallel_type=LOGICAL_CLOCK
transaction_write_set_extraction=XXHASH64
binlog_transaction_dependency_tracking=WRITESET

plugin_load_add='group_replication.so'
loose_group_replication_group_name="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa"
loose_group_replication_start_on_boot=off
loose_group_replication_single_primary_mode=OFF;
loose_group_replication_enforce_update_everywhere_checks=ON;
loose_group_replication_local_address= "10.0.15.11:13750"
loose_group_replication_group_seeds= "10.0.15.11:13750,192.168.23.253:13751,172.31.18.87:13752"
loose_group_replication_ip_allowlist="10.0.15.11,192.168.23.253,172.31.18.87"
loose_group_replication_bootstrap_group=off

back_log = 3000
character_set_server = utf8mb4
max_connect_errors = 100
max_connections = 4520
max_prepared_stmt_count = 1048576
max_user_connections = 10000
max_heap_table_size = 67108864
max_allowed_packet = 1024M
max_binlog_size = 500M
thread_stack = 262144
interactive_timeout = 7200
wait_timeout = 86400
sort_buffer_size = 848KB
read_buffer_size = 848KB
read_rnd_buffer_size = 432KB
join_buffer_size = 432KB
net_buffer_length = 16384
thread_cache_size = 100
ft_min_word_len = 4
transaction_isolation = READ-COMMITTED
tmp_table_size = 2097152
table_open_cache = 2048
skip_name_resolve
skip_ssl = ON
core-file
lower_case_table_names = 1
log_bin_trust_function_creators = 1
log-slave-updates = 1
binlog_cache_size = 2048KB
sync_binlog = 1
slow_query_log = ON
log_output = TABLE
long_query_time = 1
log_bin=binlog
binlog_format = ROW
auto_increment_increment = 1
auto_increment_offset = 1
slave_net_timeout = 60
key_buffer_size = 16M
bulk_insert_buffer_size = 4194304
innodb_buffer_pool_size = 32G
innodb_data_file_path = ibdata1:200M:autoextend
innodb_file_per_table
innodb_flush_log_at_trx_commit = 1
innodb_log_buffer_size = 8M
innodb_log_file_size = 1500M
innodb_log_files_in_group = 2
innodb_max_dirty_pages_pct = 75
innodb_flush_method = O_DIRECT
innodb_lock_wait_timeout = 50
innodb_doublewrite = 1
innodb_rollback_on_timeout = OFF
innodb_autoinc_lock_mode = 2
innodb_read_io_threads = 4
innodb_write_io_threads = 4
innodb_io_capacity = 20000
innodb_purge_threads = 1
master_info_repository = TABLE
relay_log_info_repository = TABLE
default-authentication-plugin = mysql_native_password
concurrent_insert = 1
log-slow-admin-statements
innodb_stats_on_metadata = OFF
innodb_thread_concurrency = 0
innodb_sync_spin_loops = 30
innodb_spin_wait_delay = 6
default_storage_engine = InnoDB
open_files_limit = 65535
gtid_mode = ON
enforce-gtid-consistency = 1
loose_performance_schema = on
session_track_schema = ON
loose_rpl_semi_sync_master_trace_level = 1
key_cache_division_limit = 100
general_log = OFF
max_sp_recursion_depth = 0
innodb_stats_method = nulls_equal
innodb_compression_failure_threshold_pct = 5
innodb_sync_array_size = 1
loose_performance_schema_setup_actors_size = 10000
loose_innodb_parallel_read_threads = 1
max_points_in_geometry = 65536
innodb_change_buffer_max_size = 25
preload_buffer_size = 32768
loose_persist_binlog_to_redo_size_limit = 1048576
loose_performance_schema_max_cond_instances = 10000
innodb_adaptive_max_sleep_delay = 150000
key_cache_age_threshold = 300
max_execution_time = 0
show_old_temporals = OFF
innodb_status_output_locks = OFF
slave_rows_search_algorithms = INDEX_SCAN,TABLE_SCAN
net_write_timeout = 60
innodb_ft_total_cache_size = 640000000
innodb_ft_num_word_optimize = 2000
loose_rpl_semi_sync_master_wait_no_slave = OFF
net_read_timeout = 30
innodb_sort_buffer_size = 1048576
query_prealloc_size = 8192
mysql_native_password_proxy_users = OFF
slave_type_conversions = 
loose_thread_pool_size = 1
group_concat_max_len = 1024
max_seeks_for_key = 18446744073709500000
explicit_defaults_for_timestamp = OFF
log_timestamps = SYSTEM
loose_show_ipk_info = OFF
loose_validate_password_length = 8
innodb_commit_concurrency = 0
innodb_open_files = 3000
innodb_ft_result_cache_limit = 2000000000
loose_session_track_transaction_info = OFF
loose_performance_schema_max_metadata_locks = 10000
binlog_rows_query_log_events = OFF
innodb_strict_mode = OFF
relay_log_recovery = OFF
default_week_format = 0
connect_timeout = 10
innodb_change_buffering = all
loose_performance_agent_interval = 1
default_time_zone = +8:00
optimizer_trace_max_mem_size = 16384
sql_mode = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION'
session_track_state_change = ON
innodb_ft_cache_size = 8000000
innodb_adaptive_hash_index = OFF
loose_persist_binlog_to_redo = OFF
innodb_ft_max_token_size = 84
loose_log_error_suppression_list = MY-010520
innodb_monitor_enable = 
innodb_flush_neighbors = 0
session_track_gtids = OFF
loose_rpl_semi_sync_slave_trace_level = 1
delayed_insert_timeout = 300
max_error_count = 64
innodb_buffer_pool_load_at_startup = ON
ft_max_word_len = 84
max_sort_length = 1024
innodb_page_cleaners = 8
optimizer_trace_limit = 1
loose_performance_schema_max_rwlock_instances = 10000
binlog_checksum = NONE
log_slave_updates=ON
loose_innodb_numa_interleave = ON
innodb_max_purge_lag = 0
innodb_old_blocks_pct = 37
loose_performance_schema_max_table_handles = 10000
max_binlog_stmt_cache_size = 18446744073709547520
range_optimizer_max_mem_size = 8388608
loose_performance_agent_file_size = 128
innodb_stats_persistent = ON
host_cache_size = 644
loose_performance_schema_digests_size = 10000
query_alloc_block_size = 8192
innodb_random_read_ahead = OFF
loose_session_track_system_variables = "*"
lc_time_names = en_US
loose_force_memory_to_innodb = OFF
innodb_lru_scan_depth = 1024
innodb_stats_transient_sample_pages = 8
innodb_compression_level = 6
loose_set_connection_id_enabled = ON
key_cache_block_size = 1024
slow_launch_time = 2
transaction_alloc_block_size = 8192
innodb_ft_min_token_size = 3
innodb_buffer_pool_dump_pct = 25
loose_recycle_scheduler_purge_table_print = OFF
innodb_adaptive_flushing = ON
innodb_thread_sleep_delay = 10000
loose_auto_detect_certs = OFF
innodb_stats_auto_recalc = ON
innodb_status_output = OFF
innodb_compression_pad_pct_max = 50
innodb_ft_sort_pll_degree = 2
loose_thread_pool_enabled = ON
optimizer_trace_offset = -1
loose_performance_schema_max_program_instances = 10000
loose_tokudb_cache_size = 13108M
loose_rpl_semi_sync_master_enabled = ON
log_bin_use_v1_row_events = 1
innodb_flush_sync = ON
innodb_purge_rseg_truncate_frequency = 128
loose_performance_schema_setup_objects_size = 10000
disconnect_on_expired_password = ON
max_join_size = 18446744073709551615
loose_innodb_log_compressed_pages = OFF
innodb_adaptive_flushing_lwm = 10
loose_performance_schema_max_table_instances = 1000
innodb_autoextend_increment = 64
loose_performance_schema_max_index_stat = 10000
innodb_ft_enable_stopword = ON
loose_ignore_index_hint_error = OFF
loose_rpl_semi_sync_slave_enabled = ON
table_definition_cache = 2048
innodb_log_checksums = ON
loose_max_statement_time = 0
loose_optimizer_trace_features = greedy_search=on,range_optimizer=on,dynamic_range=on,repeated_subselect=on
automatic_sp_privileges = ON
net_retry_count = 10
low_priority_updates = 0
character_set_filesystem = binary
innodb_concurrency_tickets = 5000
loose_performance_schema_max_socket_instances = 1000
loose_performance_schema_users_size = 10000
innodb_rollback_segments = 128
updatable_views_with_limit = YES
loose_performance_schema_max_prepared_statements_instances = 1000
innodb_online_alter_log_max_size = 134217728
loose_performance_schema_error_size = 10000
innodb_ft_enable_diag_print = OFF
loose_performance_schema_max_mutex_instances = 10000
sync_master_info = 10000
max_write_lock_count = 102400
loose_optimizer_switch = index_merge=on,index_merge_union=on,index_merge_sort_union=on,index_merge_intersection=on,engine_condition_pushdown=on,index_condition_pushdown=on,mrr=on,mrr_cost_based=on,block_nested_loop=on,batched_key_access=off,materialization=on,semijoin=on,loosescan=on,firstmatch=on,subquery_materialization_cost_based=on,use_index_extensions=on
delayed_insert_limit = 100
innodb_disable_sort_file_cache = ON
#loose_slave_parallel_workers = 8
sync_relay_log_info = 10000
loose_innodb_fatal_semaphore_wait_threshold = 600
delay_key_write = ON
avoid_temporal_upgrade = OFF
innodb_buffer_pool_instances = 8
loose_performance_schema_max_table_lock_stat = 10000
ngram_token_size = 2
eq_range_index_dive_limit = 100
binlog_order_commits = ON
#slave_parallel_type = LOGICAL_CLOCK
loose_innodb_adaptive_hash_index_parts = 8
loose_performance_agent_enabled = ON
innodb_checksum_algorithm = crc32
binlog_row_image = full
innodb_read_ahead_threshold = 56
loose_recycle_scheduler = OFF
loose_recycle_bin = OFF
tls_version = TLSv1.2
innodb_table_locks = ON
max_binlog_cache_size = 18446744073709547520
table_open_cache_instances = 16
transaction_prealloc_size = 4096
innodb_io_capacity_max = 40000
innodb_cmp_per_index_enabled = OFF
optimizer_prune_level = 1
loose_rpl_semi_sync_master_timeout = 1000
loose_implicit_primary_key = 1
loose_performance_schema_max_file_instances = 1000
innodb_print_all_deadlocks = OFF
loose_innodb_log_write_ahead_size = 4096
innodb_log_compressed_pages = OFF
init_connect = ''
min_examined_row_limit = 0
innodb_monitor_disable = 
end_markers_in_json = OFF
loose_recycle_bin_retention = 604800
loose_optimizer_trace = enabled=off,one_line=off
loose_performance_schema_hosts_size = 10000
loose_thread_pool_oversubscribe = 32
innodb_max_purge_lag_delay = 0
binlog_stmt_cache_size = 32768
loose_performance_schema_max_thread_instances = 10000
flush_time = 0
loose_rpl_semi_sync_master_wait_point = AFTER_SYNC
ft_query_expansion_limit = 20
autocommit = ON
master_verify_checksum = OFF
innodb_buffer_pool_dump_at_shutdown = ON
default_authentication_plugin = mysql_native_password
loose_recovery_inconsistency_check = OFF
innodb_use_native_aio = 1
block_encryption_mode = "aes-128-ecb"
event_scheduler = OFF
lock_wait_timeout = 31536000
loose_internal_tmp_mem_storage_engine = MEMORY
sha256_password_proxy_users = OFF
slave_exec_mode = strict
innodb_optimize_fulltext_only = OFF
loose_temptable_use_mmap = OFF
stored_program_cache = 256
max_prepared_stmt_count = 16382
innodb_old_blocks_time = 1000
innodb_max_dirty_pages_pct_lwm = 0
max_length_for_sort_data = 1024
log_slow_admin_statements = OFF
optimizer_search_depth = 62
div_precision_increment = 4
loose_recycle_scheduler_interval = 30
delayed_queue_size = 1000
log_throttle_queries_not_using_indexes = 0
local_infile = ON
loose_performance_schema_accounts_size = 10000
loose_sql_safe_updates = OFF
range_alloc_block_size = 4096
log_queries_not_using_indexes = OFF
innodb_stats_persistent_sample_pages = 20
innodb_purge_batch_size = 300
innodb_max_undo_log_size = 1073741824
innodb_deadlock_detect = ON

[mysqldump]
quick
max_allowed_packet = 64M

[mysql]
no-auto-rehash
prompt = "\\u@\\h : \\d \\R:\\m:\\s> "

[myisamchk]
key_buffer = 512M
sort_buffer_size = 512M
read_buffer = 8M
write_buffer = 8M

[mysqld_safe]
user = mysql
malloc-lib=/flash1/chaoyi/mysql_build/lib/libjemalloc.so
